<languages/>
{{#switch:<translate></translate>
|=
{{Documentation subpage|[[Template:Databox]]|override=doc{{#translation:}}}}
{{#ifeq:{{NAMESPACE}}|Template|{{Lua|Module:Databox}}}}
<translate>
<!--T:1-->
This module provides an as simple as possible infobox system based on Wikidata.
</translate>
[[File:Wikidata Reuse Days 2022 - Databox.pdf|thumb|<translate><!--T:20--> An introductory presentation of Databox, given at the Wikidata Reuse Days 2022</translate>]]

<translate>
<!--T:2-->
It is fully automated, does not require any configuration to be used and does not have any declination based on the type of entity (person, place...).

== How does it work? == <!--T:3-->

<!--T:4-->
This module is the backend code of the [[<tvar name="template">Template:Databox</tvar>|Databox template]].

<!--T:5-->
It uses the Wikidata item linked to the current page or the item which id is filled into the <code>item</code> parameter to automatically build an infobox.

<!--T:6-->
Its basic algorithm is:
* Use the label of the item or, if none exists, the title of the page for the infobox title.
* Use the value of `useImage`, if provided, or else the first 'best' ranked {{P|18}} for the main image.
* Use the value(s) of {{P|31}} for the data table title.
* Take all the properties used by the item, removing any properties from the 'excludeProperties' list, then sort them according to [[<tvar name="wikibase">MediaWiki:Wikibase-SortedProperties</tvar>]], and for each one:
** If the property has the datatype {{datatype|external-id}}, {{datatype|commonsMedia}} or {{datatype|quantity}}<ref group=a>The current display of quantities by Wikibase is very limited, this filter should be removed after improvements</ref>, do not display anything.
** If the property is in the <code>property_blacklist</code> array of the module, do not display anything (it is done in order to filter properties not very relevant for displaying in infoboxes).
** If the property has more than 5 values do not display anything (to avoid long lists in the infobox).
** Use default [[<tvar name="mw-ext-wikibasecl">mw:Extension:Wikibase client</tvar>|Wikibase]] rendering system to display the values that have the "best" [[<tvar name="ranking">Help:Ranking</tvar>|rank]] (i.e. the values with the rank "[[<tvar name="prefrank">Help:Ranking#Preferred_rank</tvar>|preferred]]", if some exists, and, if not, the ones with the rank "[[<tvar name="normrank">Help:Ranking#Normal_rank</tvar>|normal]]").
* If there is value for {{P|625}}, then display a map using [[<tvar name="mw-ext-kart">mw:Help:Extension:Kartographer</tvar>|Kartographer]].

It is possible to use two optional parameters to adjust the Databox.
* To specify a different image from the wikidata item to appear in the Databox: <code><nowiki>{{Databox|useImage=Hubble Ultra Deep Field part d.jpg}}</nowiki></code>
* To exclude certain properties from appearing in the Databox: <code><nowiki>{{Databox|excludeProperties=P2,P1}}</nowiki></code>

=== Notes === <!--T:7-->
</translate>
<references group=a/>
<translate>
== How to use it in your wiki? == <!--T:8-->

<!--T:9-->
# Copy the code of <code>Module:Databox</code> in a module page in your wiki named <code>Module:Databox</code>.
# Add the created module page to the sitelinks of [[Q53931871]].
# Create <code>Template:Databox</code> in your wiki with the wikitext: <code><nowiki>{{#invoke:Databox|databox|useImage={{{useImage|}}}|excludeProperties={{{excludeProperties|}}}}}</nowiki></code>.
# Add the created template page to the sitelinks of [[Q20702632]].
# At this point if you add <code><nowiki>{{Databox}}</nowiki></code> to an existing article connected to a Wikidata item it should work.
# Write a help page in your language

== Examples == <!--T:10-->

</translate>
{{{!}} class="wikitable"
{{!}} {{Databox/sandbox|item=Q10725594}} {{Databox/sandbox|item=Q13365715}}
{{!}} {{Databox/sandbox|item=Q153}}
{{!}} {{Databox/sandbox|item=Q2513|useImage=1990 s31 IMAX view of HST release.jpg}}
{{!}} {{Databox/sandbox|item=Q3030}}
{{!}} {{Databox/sandbox|item=Q7066}}
{{!-}}
{{!}} {{Databox/sandbox|item=Q192724}}
{{!}} {{Databox/sandbox|item=Q67}}
{{!}} {{Databox/sandbox|item=Q143}}
{{!}} {{Databox/sandbox|item=Q64|excludeProperties=P8989}}
{{!}} {{Databox/sandbox|item=Q42}}
{{!}}}

<translate>
== See also == <!--T:16-->
</translate>

* <translate><!--T:17--> <tvar name="1">[[:ru:Template:Универсальная карточка]]</tvar> - similar, but more developed template in Russian Wikipedia</translate>
* <translate><!--T:18--> <tvar name="1">[[:en:Template:Infobox person/Wikidata]]</tvar> - similar, for people only, in English Wikipedia</translate>
* <translate><!--T:19--> <tvar name="1">[[:commons:Template:Wikidata Infobox]]</tvar> - Commons' equivalent; mostly used for categories</translate>

|#default={{autotranslate|base=Databox/doc}}
}}
